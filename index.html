<html lang="ru" class=""><head>

  <meta charset="UTF-8">
  <title>Приглашение на матрицу</title>
  <link rel="icon" href="IMG_0569.ico">

  <style>
    body {
  margin: 0;
  height: 100vh;
  width: 100vw;
  overflow: hidden;
}

  </style>

  
</head>

<body>
  
<canvas id="canv"></canvas>
  
<script>
var interval;
function init() {
const canvas = document.getElementById('canv');
const ctx = canvas.getContext('2d');

const w = canvas.width = document.body.clientWidth;
const h = canvas.height = document.body.clientHeight;
const cols = Math.floor(w / 20) + 1;
const ypos = Array(cols).fill(0);
const phrases = [' Индира, ты самая лучшая ', ' Пойдешь ли ты со мной на матрицу? ', ' Приглашение для самой красивой девушки ', ' Ты невероятно умная ' , ' Супер обояшка ', " Спасибо тебе за все ", ' С любовью самому доброму человеку ', " Ты мне очень дорога "];
const usingPhrase = Array(ypos.length).fill(-1);
const currentIndex = Array(ypos.length).fill(-1);

ctx.fillStyle = '#000';
ctx.fillRect(0, 0, w, h);

function matrix () {
  ctx.fillStyle = '#0001';
  ctx.fillRect(0, 0, w, h);
  
  ctx.fillStyle = '#0f0';
  ctx.font = 'lighter 15pt monospace';
  
  ypos.forEach((y, ind) => {
    var text;
    if (usingPhrase[ind] === -1) {
      if (Math.random() > 0.95) {
        usingPhrase[ind] = Math.floor(Math.random() * phrases.length);

        currentIndex[ind] = 0;
        text = phrases[usingPhrase[ind]][0]
      } else {
        text = String.fromCharCode(Math.random() * 128);
      }
    } else {
      const phrase = phrases[usingPhrase[ind]];
      const next = currentIndex[ind] + 1;
      if(next >= phrase.length) {
        currentIndex[ind] = -1;
        usingPhrase[ind] = -1;
        text = String.fromCharCode(Math.random() * 128);
      } else {
        text = phrase[next];
        currentIndex[ind] = next;
      }
      
    }
    
    const x = ind * 20;
    if (usingPhrase[ind] ==! -1) {
ctx.font = 'bolder 15pt monospace';
        ctx.fillText(text, x, y);
ctx.font = 'lighter 15pt monospace';
    } else {
        ctx.fillText(text, x, y);
    }


    
    if (usingPhrase[ind] === -1 && y > 100 + Math.random() * 10000) ypos[ind] = 0;
    else ypos[ind] = y + 20;
  });
}
return setInterval(matrix, 75);
}
interval = init();
//matrix();
window.addEventListener('resize', function(event) {
clearInterval(interval);
    interval = init();
});

</script>

    
</body>
</html>
